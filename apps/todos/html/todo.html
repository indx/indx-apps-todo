<div class="undo">
	<a href="#" ng-click="todo.undo()"><i class="icon-undo"></i> Undo</a>
</div>
<div class="todo-body">
	<div class="todo-urgency" ng-class="'urgency-' + (todo.is_editing && pop(todo.newAttributes.urgency) || pop(todo.attributes.urgency))">
		<div class="todo-urgency-arrows" ng-show="todo.is_editing">
			<div class="todo-urgency-up" ng-click="todo.set_urgency(+1)"><div class="arrow-head"></div></div>
			<div class="todo-urgency-down" ng-click="todo.set_urgency(-1)"><div class="arrow-head"></div></div>
		</div>
	</div>
	<div class="todo-checkbox" ng-show="!todo.is_editing" ng-click="todo.toggle()">
		<span class="glyphicon glyphicon-ok tick"></span>
	</div>
	<div class="todo-title">
		{{ todo.is_editing && pop(todo.newAttributes.title) || pop(todo.attributes.title) }}&nbsp;
		<textarea ng-model="todo.newAttributes.title" placeholder="todo..." ng-focus="todo.edit()" focus-me="todo.is_editing"></textarea>
	</div>
</div>
<div class="modal-cover" ng-click="editing_todo.restore();"></div>